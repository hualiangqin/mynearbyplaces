(this.webpackJsonpmynearbyplaces=this.webpackJsonpmynearbyplaces||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),c=n.n(s),i=n(20),o=n.n(i),r=(n(27),n(11)),l=n(2),h=n(12),u=n(6),j=n(7),b=n(9),p=n(8),d=(n(28),function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props.review;return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:["Stars: ",e.stars]}),Object(a.jsxs)("div",{children:["Comment: ",e.review_comment]}),Object(a.jsx)("br",{})]})})}}]),n}(c.a.Component)),m=(n(29),[{id:1,name:"place1",city:"tucson",state:"AZ",type:"restaurant",reviews:[{stars:5,comment:"nice place"},{stars:2,comment:"will not come again"}]},{id:2,name:"place 3",city:"tucson",state:"AZ",type:"shopping mall",reviews:[{stars:1,comment:"too many people"},{stars:4,comment:"have bought what I wanted"}]},{id:3,name:"place 8",city:"tempe",state:"AZ",type:"dry cleaning",reviews:[{stars:0,comment:"every dirty"}]},{id:4,name:"place 28",city:"phoenix",state:"AZ",type:"barber",reviews:[{stars:5,comment:"nice person!"}]},{id:5,name:"place 167",city:"apache junction",state:"AZ",type:"grocery",reviews:[{stars:4,comment:"have everything I needed"},{stars:1,comment:"the vege is not fresh"}]}]),v=5,y={fetchPlaces:function(){return m},addPlace:function(e,t,n,a){!function(e,t,n,a){var s={id:++v,name:e,city:t,state:n,type:a,reviews:[]};console.log(s),m.push(s),console.log(m)}(e,t,n,a)},removePlace:function(e){!function(e){console.log("remove: "+e);var t=m.find((function(t){return t.id===e})),n=m.indexOf(t);m.splice(n,1)}(e)},updatePlace:function(e,t){!function(e,t){var n=m.find((function(t){return t.id===e}));""!==t.name&&(n.name=t.name),""!==t.city&&(n.city=t.city),""!==t.state&&(n.state=t.state),""!==t.type&&(n.type=t.type)}(e,t)},addReview:function(e,t){!function(e,t){var n=m.find((function(t){return t.id===e}));console.log(n),console.log(t),n.reviews.push(t)}(e,t)}},O=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).fillReviews=function(e){a.setState({reviews:e})},a.showOrCollapseReviews=function(){a.state.showReview?a.setState({showReview:!1}):a.setState({showReview:!0})},a.deletePlace=function(e){y.removePlace(e)},a.state={showReview:!1,id:0,reviews:[]},a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.place.id;fetch("https://hualiangqin-nearbyplaces-api.herokuapp.com/reviews/"+t).then((function(e){return e.json()})).then((function(t){e.setState({reviews:t}),console.log(t)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.reviews,t=this.props.place,n={pathname:"/addreview",state:{id:t.id}};return Object(a.jsxs)("div",{className:"places-container",children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:["Name: ",t.place_name]}),Object(a.jsxs)("div",{children:["Type: ",t.place_type]}),Object(a.jsxs)("div",{children:["City: ",t.city]}),Object(a.jsxs)("div",{children:["State: ",t.state]})]}),this.state.showReview?Object(a.jsxs)("p",{onClick:this.showOrCollapseReviews,children:["reviews: ",Object(a.jsx)("i",{className:"down"})]}):Object(a.jsxs)("p",{onClick:this.showOrCollapseReviews,children:["reviews: ",Object(a.jsx)("i",{className:"right"})]}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{children:this.state.showReview?e.map((function(e){return Object(a.jsx)(d,{review:e})})):""}),Object(a.jsx)("div",{className:"modify-container",children:Object(a.jsx)(r.b,{to:n,children:Object(a.jsx)("button",{children:"Add Review"})})})]})}}]),n}(c.a.Component),x=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).handleChange=function(e){var t=e.target.value,n=e.target.name;s.setState(Object(h.a)({},n,t))},s.clickSearch=function(){console.log("click"),console.log(s.state.keywords),console.log(s.state.city);var e=s.state,t=e.keywords,n=e.city;fetch("https://hualiangqin-nearbyplaces-api.herokuapp.com/search/"+t+"/"+n).then((function(e){return e.json()})).then((function(e){s.setState({results:e}),console.log(e)})).catch((function(e){return console.log(e)}))},s.showAllPlace=function(){var e=s.state.places;s.setState({results:e})},s.body=function(){var e=s.state.results;return Object(a.jsx)("div",{className:"results-container",children:e.length>0?e.map((function(e){return Object(a.jsx)(O,{place:e},e.id)})):"no results"})},s.state={places:[],keywords:"",city:"",results:[]},s}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(0===this.state.places.length){fetch("https://hualiangqin-nearbyplaces-api.herokuapp.com/places").then((function(e){return e.json()})).then((function(t){e.setState({places:t}),console.log(t)})).catch((function(e){return console.log(e)}))}}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"main",children:[Object(a.jsx)("h1",{className:"homepage-title",children:"MyNearbyPlaces"}),Object(a.jsx)("div",{className:"search-field",children:Object(a.jsxs)("div",{className:"input-wrapper",children:[Object(a.jsx)("span",{children:"Find"}),Object(a.jsxs)("div",{className:"inputboxes",children:[Object(a.jsx)("input",{className:"input",maxLength:"64",placeholder:"keyword",name:"keywords",value:this.state.keywords,onChange:this.handleChange}),Object(a.jsx)("input",{className:"input",maxLength:"64",placeholder:"city",name:"city",value:this.state.city,onChange:this.handleChange})]}),Object(a.jsx)("button",{onClick:this.clickSearch,children:"Search"}),Object(a.jsx)(r.b,{to:"/addplace",children:Object(a.jsx)("button",{children:"Add Place"})}),Object(a.jsx)("button",{onClick:this.showAllPlace,children:"All Place"})]})})]}),this.body()]})}}]),n}(c.a.Component),f=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=a.props.location,t=0;e&&e.state&&(t=e.state.id?e.state.id:"",console.log(t),a.setState({id:t}))},a.handleChange=function(e){var t=e.target.value,n=e.target.name;a.setState(Object(h.a)({},n,t))},a.submitReview=function(e){a.setState({submitted:!0});var t=a.state.id,n=a.state,s=n.stars,c=n.comment;console.log("stars: "+s),console.log("comment: "+c),fetch("https://hualiangqin-nearbyplaces-api.herokuapp.com/review/"+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stars:s,review_comment:c})}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),e.preventDefault()},a.state={stars:"",comment:"",id:0,submitted:!1},a}return Object(j.a)(n,[{key:"render",value:function(){return this.state.submitted?Object(a.jsx)(l.a,{to:"/mynearbyplaces"}):Object(a.jsxs)("form",{onSubmit:this.submitReview,children:[Object(a.jsx)("label",{children:"Stars: "}),Object(a.jsx)("input",{type:"text",name:"stars",value:this.state.stars,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Comment: "}),Object(a.jsx)("input",{type:"text",name:"comment",value:this.state.comment,onChange:this.handleChange}),Object(a.jsx)("button",{type:"submit",children:"submit"})]})}}]),n}(c.a.Component),g=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=e.target.value,n=e.target.name;a.setState(Object(h.a)({},n,t))},a.submitPlace=function(e){a.setState({submitted:!0});var t=a.state,n=t.name,s=t.type,c=t.city,i=t.state;console.log("name: "+n),console.log("type: "+s),console.log("city: "+c),console.log("state:"+i),fetch("https://hualiangqin-nearbyplaces-api.herokuapp.com/place",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({place_name:n,city:c,state:i,place_type:s})}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),e.preventDefault()},a.state={name:"",type:"",state:"",city:"",submitted:!1},a}return Object(j.a)(n,[{key:"render",value:function(){return this.state.submitted?Object(a.jsx)(l.a,{to:"/mynearbyplaces"}):Object(a.jsxs)("form",{onSubmit:this.submitPlace,children:[Object(a.jsx)("label",{children:"Name: "}),Object(a.jsx)("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Type: "}),Object(a.jsx)("input",{type:"text",name:"type",value:this.state.type,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"City: "}),Object(a.jsx)("input",{type:"text",name:"city",value:this.state.city,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"State: "}),Object(a.jsx)("input",{type:"text",name:"state",value:this.state.state,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{type:"submit",children:"submit"})]})}}]),n}(c.a.Component),w=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=a.props.location;if(e&&e.state&&e.state.place){var t=e.state.place;a.setState({id:t.id,name:t.name,type:t.type,state:t.state,city:t.city,reviews:t.reviews})}},a.handleChange=function(e){var t=e.target.value,n=e.target.name;a.setState(Object(h.a)({},n,t))},a.submitPlace=function(e){a.setState({submitted:!0});var t=a.state,n=t.id,s={name:t.name,type:t.type,city:t.city,state:t.state,reviews:t.reviews};y.updatePlace(n,s),e.preventDefault()},a.state={id:0,name:"",type:"",state:"",city:"",reviews:[],submitted:!1},a}return Object(j.a)(n,[{key:"render",value:function(){return this.state.submitted?Object(a.jsx)(l.a,{to:"/mynearbyplaces"}):Object(a.jsxs)("form",{onSubmit:this.submitPlace,children:[Object(a.jsx)("label",{children:"Name: "}),Object(a.jsx)("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Type: "}),Object(a.jsx)("input",{type:"text",name:"type",value:this.state.type,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"City: "}),Object(a.jsx)("input",{type:"text",name:"city",value:this.state.city,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"State: "}),Object(a.jsx)("input",{type:"text",name:"state",value:this.state.state,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{type:"submit",children:"update"})]})}}]),n}(c.a.Component);var C=function(){return Object(a.jsx)(r.a,{children:Object(a.jsxs)(l.d,{children:[Object(a.jsx)(l.b,{path:"/mynearbyplaces",component:x}),Object(a.jsx)(l.b,{path:"/addreview",component:f}),Object(a.jsx)(l.b,{path:"/addplace",component:g}),Object(a.jsx)(l.b,{path:"/updateplace",component:w})]})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(C,{})}),document.getElementById("root")),S()}},[[35,1,2]]]);
//# sourceMappingURL=main.f76d0e19.chunk.js.map