(this.webpackJsonpmynearbyplaces=this.webpackJsonpmynearbyplaces||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),c=n.n(s),i=n(21),r=n.n(i),l=(n(28),n(11)),o=n(2),j=n(12),h=n(6),u=n(7),b=n(9),d=n(8),m=(n(29),[{id:1,name:"place1",city:"tucson",state:"AZ",type:"restaurant",reviews:[{stars:5,comment:"nice place"},{stars:2,comment:"will not come again"}]},{id:2,name:"place 3",city:"tucson",state:"AZ",type:"shopping mall",reviews:[{stars:1,comment:"too many people"},{stars:4,comment:"have bought what I wanted"}]},{id:3,name:"place 8",city:"tempe",state:"AZ",type:"dry cleaning",reviews:[{stars:0,comment:"every dirty"}]},{id:4,name:"place 28",city:"phoenix",state:"AZ",type:"barber",reviews:[{stars:5,comment:"nice person!"}]},{id:5,name:"place 167",city:"apache junction",state:"AZ",type:"grocery",reviews:[{stars:4,comment:"have everything I needed"},{stars:1,comment:"the vege is not fresh"}]}]),p=5,v={fetchPlaces:function(){return m},addPlace:function(e,t,n,a){!function(e,t,n,a){var s={id:++p,name:e,city:t,state:n,type:a,reviews:[]};console.log(s),m.push(s),console.log(m)}(e,t,n,a)},removePlace:function(e){!function(e){console.log("remove: "+e);var t=m.find((function(t){return t.id===e})),n=m.indexOf(t);m.splice(n,1)}(e)},updatePlace:function(e,t){!function(e,t){var n=m.find((function(t){return t.id===e}));""!==t.name&&(n.name=t.name),""!==t.city&&(n.city=t.city),""!==t.state&&(n.state=t.state),""!==t.type&&(n.type=t.type)}(e,t)},addReview:function(e,t){!function(e,t){var n=m.find((function(t){return t.id===e}));console.log(n),console.log(t),n.reviews.push(t)}(e,t)}},O=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.review;return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:["Stars: ",e.stars]}),Object(a.jsxs)("div",{children:["Comment: ",e.comment]}),Object(a.jsx)("br",{})]})})}}]),n}(c.a.Component),y=(n(30),function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).fillReviews=function(e){a.setState({reviews:e})},a.showOrCollapseReviews=function(){a.state.showReview?a.setState({showReview:!1}):a.setState({showReview:!0})},a.deletePlace=function(e){v.removePlace(e)},a.state={showReview:!1,id:0},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.place,n=t.id,s={pathname:"/addreview",state:{id:n}},c={pathname:"/updateplace",state:{place:t}};return Object(a.jsxs)("div",{className:"places-container",children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:["Name: ",t.name]}),Object(a.jsxs)("div",{children:["Type: ",t.type]}),Object(a.jsxs)("div",{children:["City: ",t.city]}),Object(a.jsxs)("div",{children:["State: ",t.state]})]}),this.state.showReview?Object(a.jsxs)("p",{onClick:this.showOrCollapseReviews,children:["reviews: ",Object(a.jsx)("i",{className:"down"})]}):Object(a.jsxs)("p",{onClick:this.showOrCollapseReviews,children:["reviews: ",Object(a.jsx)("i",{className:"right"})]}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{children:this.state.showReview?t.reviews.map((function(e){return Object(a.jsx)(O,{review:e})})):""}),Object(a.jsxs)("div",{className:"modify-container",children:[Object(a.jsx)(l.b,{to:s,children:Object(a.jsx)("button",{children:"Add Review"})}),Object(a.jsx)("button",{onClick:function(){return e.deletePlace(n)},children:"Delete"}),Object(a.jsx)(l.b,{to:c,children:Object(a.jsx)("button",{children:"Update"})})]})]})}}]),n}(c.a.Component)),x=function(e){Object(b.a)(s,e);var t=Object(d.a)(s);function s(e){var c;return Object(h.a)(this,s),(c=t.call(this,e)).handleChange=function(e){var t=e.target.value,n=e.target.name;c.setState(Object(j.a)({},n,t))},c.clickSearch=function(){console.log("click"),console.log(c.state.keywords);for(var e=n(35),t=c.state,a=t.keywords,s=t.places,i=a.split(" "),r=[],l=0;l<a.length;l++)for(var o=i[l],j=function(t){var n=s[t],a=n.name,c=n.city,i=n.state,l=n.type;(a.includes(o)||c.includes(o)||i.includes(o)||l.includes(o))&&!1===r.some((function(t){return e.isEqual(t,n)}))&&r.push(n)},h=0;h<s.length;h++)j(h);console.log(r),c.setState({results:r})},c.showAllPlace=function(){var e=c.state.places;c.setState({results:e})},c.body=function(){var e=c.state.results;return Object(a.jsx)("div",{className:"results-container",children:e.length>0?e.map((function(e){return Object(a.jsx)(y,{place:e},e.id)})):"no results"})},c.state={places:[],keywords:"",results:[]},c}return Object(u.a)(s,[{key:"componentDidMount",value:function(){if(0===this.state.places.length){var e=v.fetchPlaces();this.setState({places:e}),console.log(e)}}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"main",children:[Object(a.jsx)("h1",{className:"homepage-title",children:"MyNearbyPlaces"}),Object(a.jsxs)("div",{className:"search-field",children:[Object(a.jsxs)("div",{className:"input-wrapper",children:[Object(a.jsx)("span",{children:"Find"}),Object(a.jsx)("input",{className:"input",maxLength:"64",placeholder:"find my nearby places",name:"keywords",value:this.state.keywords,onChange:this.handleChange}),Object(a.jsx)("button",{onClick:this.clickSearch,children:"Search"})]}),Object(a.jsx)(l.b,{to:"/addplace",children:Object(a.jsx)("button",{children:"Add Place"})}),Object(a.jsx)("button",{onClick:this.showAllPlace,children:"All Place"})]})]}),this.body()]})}}]),s}(c.a.Component),f=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=a.props.location,t=0;e&&e.state&&(t=e.state.id?e.state.id:"",console.log(t),a.setState({id:t}))},a.handleChange=function(e){var t=e.target.value,n=e.target.name;a.setState(Object(j.a)({},n,t))},a.submitReview=function(e){a.setState({submitted:!0});var t=a.state.id,n=a.state,s=n.stars,c=n.comment;console.log("stars: "+s),console.log("comment: "+c);var i={stars:s,comment:c};v.addReview(t,i),e.preventDefault()},a.state={stars:"",comment:"",id:0,submitted:!1},a}return Object(u.a)(n,[{key:"render",value:function(){return this.state.submitted?Object(a.jsx)(o.a,{to:"/mynearbyplaces"}):Object(a.jsxs)("form",{onSubmit:this.submitReview,children:[Object(a.jsx)("label",{children:"Stars: "}),Object(a.jsx)("input",{type:"text",name:"stars",value:this.state.stars,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Comment: "}),Object(a.jsx)("input",{type:"text",name:"comment",value:this.state.comment,onChange:this.handleChange}),Object(a.jsx)("button",{type:"submit",children:"submit"})]})}}]),n}(c.a.Component),g=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=e.target.value,n=e.target.name;a.setState(Object(j.a)({},n,t))},a.submitPlace=function(e){a.setState({submitted:!0});var t=a.state,n=t.name,s=t.type,c=t.city,i=t.state;console.log("name: "+n),console.log("type: "+s),console.log("city: "+c),console.log("state:"+i),v.addPlace(n,c,i,s),e.preventDefault()},a.state={name:"",type:"",state:"",city:"",submitted:!1},a}return Object(u.a)(n,[{key:"render",value:function(){return this.state.submitted?Object(a.jsx)(o.a,{to:"/mynearbyplaces"}):Object(a.jsxs)("form",{onSubmit:this.submitPlace,children:[Object(a.jsx)("label",{children:"Name: "}),Object(a.jsx)("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Type: "}),Object(a.jsx)("input",{type:"text",name:"type",value:this.state.type,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"City: "}),Object(a.jsx)("input",{type:"text",name:"city",value:this.state.city,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"State: "}),Object(a.jsx)("input",{type:"text",name:"state",value:this.state.state,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{type:"submit",children:"submit"})]})}}]),n}(c.a.Component),w=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=a.props.location;if(e&&e.state&&e.state.place){var t=e.state.place;a.setState({id:t.id,name:t.name,type:t.type,state:t.state,city:t.city,reviews:t.reviews})}},a.handleChange=function(e){var t=e.target.value,n=e.target.name;a.setState(Object(j.a)({},n,t))},a.submitPlace=function(e){a.setState({submitted:!0});var t=a.state,n=t.id,s={name:t.name,type:t.type,city:t.city,state:t.state,reviews:t.reviews};v.updatePlace(n,s),e.preventDefault()},a.state={id:0,name:"",type:"",state:"",city:"",reviews:[],submitted:!1},a}return Object(u.a)(n,[{key:"render",value:function(){return this.state.submitted?Object(a.jsx)(o.a,{to:"/mynearbyplaces"}):Object(a.jsxs)("form",{onSubmit:this.submitPlace,children:[Object(a.jsx)("label",{children:"Name: "}),Object(a.jsx)("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Type: "}),Object(a.jsx)("input",{type:"text",name:"type",value:this.state.type,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"City: "}),Object(a.jsx)("input",{type:"text",name:"city",value:this.state.city,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"State: "}),Object(a.jsx)("input",{type:"text",name:"state",value:this.state.state,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{type:"submit",children:"update"})]})}}]),n}(c.a.Component);var C=function(){return Object(a.jsx)(l.a,{children:Object(a.jsxs)(o.d,{children:[Object(a.jsx)(o.b,{path:"/mynearbyplaces",component:x}),Object(a.jsx)(o.b,{path:"/addreview",component:f}),Object(a.jsx)(o.b,{path:"/addplace",component:g}),Object(a.jsx)(o.b,{path:"/updateplace",component:w})]})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))};r.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(C,{})}),document.getElementById("root")),S()}},[[37,1,2]]]);
//# sourceMappingURL=main.32bfc5cd.chunk.js.map